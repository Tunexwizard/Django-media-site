<!DOCTYPE html>
<html>
<head>
    <title>Media Upload</title>
</head>
<body>
    <h1>Upload a Media File</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Upload</button>
    </form>

    <h2>Uploaded Files</h2>
    <ul>
        {% for file in files %}
            <li>
                <strong>{{ file.title }}</strong><br>
                {% if file.file.url|lower|slice:"-4:" == ".mp4" %}
                    <video width="320" height="240" controls>
                        <source src="{{ file.file.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
</body>
</html>
